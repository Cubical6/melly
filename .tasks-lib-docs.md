# melly-lib-docs Plugin Implementation Tasks

> **Temporary task list for library documentation analyzer plugin**
> **Created**: 2025-11-16
> **Goal**: Universal markdown-based library documentation analyzer with metadata extraction

---

## Overview

Create `melly-lib-docs` plugin that:
- Analyzes markdown-based library documentation (Laravel, React, Django, etc.)
- Extracts metadata (observations + relations) using universal patterns
- Preserves 100% of original content
- Outputs enhanced markdown with frontmatter + metadata section
- Integrates with basic-memory for semantic search

---

## Task Breakdown

### 1. Plugin Structure ✅ PLAN

**Goal**: Create plugin directory structure and configuration

**Files to create:**
- `plugins/melly-lib-docs/plugin.json` - Plugin metadata
- `plugins/melly-lib-docs/README.md` - Usage documentation
- `plugins/melly-lib-docs/.gitignore` - Ignore patterns

**Deliverables:**
```
plugins/melly-lib-docs/
├── plugin.json
├── README.md
├── .gitignore
├── agents/
├── commands/
├── skills/
├── scripts/
└── templates/
```

---

### 2. Skill Implementation ✅ PLAN

**Goal**: Create `lib-doc-methodology` skill with universal patterns

**File to create:**
- `plugins/melly-lib-docs/skills/lib-doc-methodology/SKILL.md`

**Content:**
- Hierarchical levels (Category, Topic, Concept)
- Observation categories (fact, technique, best-practice, requirement, example, etc.)
- Relation types (requires, part_of, extends, uses, similar_to, etc.)
- Universal markdown patterns (version info, dependencies, best practices)
- Chunking strategy
- Metadata schema

---

### 3. Validation Scripts ✅ PLAN

**Goal**: Create validation scripts for metadata and content preservation

**Files to create:**
- `plugins/melly-lib-docs/scripts/validate-lib-docs.py` - Validate JSON metadata
- `plugins/melly-lib-docs/scripts/validate-content.py` - Verify content preservation
- `plugins/melly-lib-docs/scripts/parse-markdown.py` - Universal markdown parser
- `plugins/melly-lib-docs/scripts/extract-metadata.py` - Metadata extraction

**Features:**
- Parse markdown structure (headings, code blocks, links)
- Extract observations using universal patterns
- Extract relations from cross-references
- Validate content preservation (original vs enhanced)
- Exit codes: 0=success, 1=warning, 2=blocking error

---

### 4. Agent Implementation ✅ PLAN

**Goal**: Create `lib-doc-analyzer` agent with 5-phase workflow

**File to create:**
- `plugins/melly-lib-docs/agents/lib-doc-analyzer.md`

**Workflow phases:**
1. **Discovery** - Find markdown files, detect library structure
2. **Parsing** - Extract headings, code blocks, links using parse-markdown.py
3. **Analysis** - Extract observations and relations using universal patterns
4. **Generation** - Create enhanced markdown with metadata section
5. **Validation** - Verify content preservation and metadata quality

**Tools**: Read, Glob, Grep, Write, Bash

---

### 5. Slash Command ✅ PLAN

**Goal**: Create `/melly-analyze-lib-docs` command

**File to create:**
- `plugins/melly-lib-docs/commands/melly-analyze-lib-docs.md`

**Features:**
- Accept arguments: [library-name] [docs-path]
- Invoke lib-doc-analyzer agent
- Run validation scripts
- Generate summary report
- Store in basic-memory

---

### 6. Templates ✅ PLAN

**Goal**: Create JSON and Markdown templates

**Files to create:**
- `plugins/melly-lib-docs/templates/lib-docs-template.json` - Metadata JSON schema
- `plugins/melly-lib-docs/templates/enhanced-markdown-template.md` - Output format example

**Content:**
- Complete metadata schema example
- Enhanced markdown structure (frontmatter + metadata section + original)
- Placeholder syntax for template processing

---

### 7. Integration Testing ✅ PLAN

**Goal**: Test with real library docs

**Test cases:**
- Laravel (PHP) - Complex framework docs
- React (JavaScript) - Hooks documentation
- Django (Python) - Models documentation

**Validation:**
- Content preservation (byte-for-byte comparison)
- Metadata quality (observations extracted, not fabricated)
- Relations correctness (links → relations)
- basic-memory integration (searchable entities)

---

### 8. Documentation ✅ PLAN

**Goal**: Complete plugin documentation

**Files to update/create:**
- `plugins/melly-lib-docs/README.md` - Complete usage guide
- `TASKS.md` - Add melly-lib-docs to roadmap
- `CLAUDE.md` - Document new plugin in Section 10

**Content:**
- Installation instructions
- Usage examples
- Workflow explanation
- Supported libraries
- Troubleshooting

---

## Implementation Order

### Phase 1: Foundation (Tasks 1-3)
1. Plugin structure
2. Skill implementation
3. Validation scripts

**Output**: Core infrastructure ready

### Phase 2: Core Functionality (Tasks 4-5)
4. Agent implementation
5. Slash command

**Output**: Working analyzer

### Phase 3: Polish (Tasks 6-8)
6. Templates
7. Integration testing
8. Documentation

**Output**: Production-ready plugin

---

## Success Criteria

- [ ] Plugin installable via `/plugin add ./plugins/melly-lib-docs`
- [ ] Command `/melly-analyze-lib-docs` works
- [ ] Analyzes Laravel docs successfully
- [ ] Content preservation validated (100% match)
- [ ] Metadata extracted (observations + relations)
- [ ] basic-memory integration works
- [ ] Semantic search functional
- [ ] Works for React/Django docs (universal)
- [ ] Documentation complete

---

## Next Steps

1. Create plugin structure (Task 1)
2. Implement skill (Task 2)
3. Create validation scripts (Task 3)
4. Implement agent (Task 4)
5. Create slash command (Task 5)
6. Add templates (Task 6)
7. Test integration (Task 7)
8. Complete documentation (Task 8)
